<UserControl x:Class="ATMScoreBoard.Display.Views.TeamPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:views="clr-namespace:ATMScoreBoard.Display.Views"
             xmlns:converters="clr-namespace:ATMScoreBoard.Display.Converters"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="400" Foreground="White">
    <Border BorderBrush="{Binding BorderColor, FallbackValue=Gray}" BorderThickness="0" CornerRadius="5" Padding="10">
        

        <Grid>
            
        <Grid.Resources>
            <converters:BooleanToVisibilityConverter x:Key="BoolToVis" />
            <converters:InverseBooleanToVisibilityConverter x:Key="InverseBoolToVis" />
                <converters:BolaImageConverter x:Key="BolaImageConverter" />
            </Grid.Resources>
            
            <Grid.RowDefinitions>
                <RowDefinition Height="1.5*"/>
                <RowDefinition Height="1.5*"/>
                <RowDefinition Height="6*"/>
                <RowDefinition Height="3*"/>
            </Grid.RowDefinitions>

            <!-- LISTA DE JUGADORES -->

            <views:PlayerPanel Grid.Row="0"
                               DataContext="{Binding Jugadores[0]}" 
                               Nombre="{Binding Nombre}" 
                               PosicionRanking="{Binding PosicionRanking}" 
                               PuntosRanking="{Binding PuntosRanking}" 
                               Margin="0,5" />

            <views:PlayerPanel Grid.Row="1" Visibility="{Binding IsPareja, Converter={StaticResource BoolToVis}}"
                               DataContext="{Binding Jugadores[1]}" 
                               Nombre="{Binding Nombre}" 
                               PosicionRanking="{Binding PosicionRanking}" 
                               PuntosRanking="{Binding PuntosRanking}" 
                               Margin="0,5" />
            
            
            <!-- PUNTUACIÓN PRINCIPAL -->

            <Viewbox Grid.Row="2">
                <TextBlock Text="{Binding Puntuacion}" 
                           FontFamily="DS-Digital" 
                           FontSize="250" 
                           FontWeight="Bold" 
                           Foreground="DarkOrange" 
                           HorizontalAlignment="Center" Margin="0,20">
                    <TextBlock.Effect>
                        <DropShadowEffect 
                            Color="Orange"          
                            ShadowDepth="0"        
                            BlurRadius="10"         
                            Opacity="0.9"          
                            RenderingBias="Quality"/>
                    </TextBlock.Effect>
                    
                </TextBlock>
            </Viewbox>
            

            <!-- BOLAS EMBOLSADAS -->
            <Grid Grid.Row="3">
                <ItemsControl ItemsSource="{Binding BolasEmbolsadas}" 
                  HorizontalAlignment="Center" 
                  VerticalAlignment="Center">

                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                           
                            <WrapPanel Orientation="Horizontal" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>

                    <ItemsControl.ItemTemplate>
                        <DataTemplate>

                            <Image Source="{Binding Converter={StaticResource BolaImageConverter}}" 
                                   Width="100" 
                                   Height="100" 
                                   Margin="2">
                                <Image.Effect>
                                    <DropShadowEffect 
                                        Color="LightGray"          
                                        ShadowDepth="0"        
                                        BlurRadius="01"         
                                        Opacity="1"          
                                        RenderingBias="Quality"/>
                                </Image.Effect>
                                
                            </Image>
                            
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </Grid>
        </Grid>
    </Border>
</UserControl>